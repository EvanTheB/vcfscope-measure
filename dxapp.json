{
    "name": "kccg-validation-reporter-dx",
    "title": "Create KCCG Validation report.",
    "dxapi": "1.0.0",
    "inputSpec": [
        {
            "name": "vcfgz",
            "label": "Variants",
            "help": "Input NA12878 genotype calls to be validated, in vcf.gz format.",
            "class": "file",
            "patterns": [ "*.vcf.gz" ]
        },
        {
            "name": "tbi",
            "label": "Variants index",
            "help": "The associated TBI file.",
            "class": "file",
            "patterns": [ "*.vcf.gz.tbi" ]
        },
        {
            "name": "outfile",
            "label": "Write the pdf report to OUTFILE",
            "help": "Write the pdf report to OUTFILE",
            "class": "string",
            "default": "report.pdf"
        },
        {
            "group": "advanced",
            "name": "region",
            "label": "Region BED",
            "help": "Limit analysis to the regions in this BED only.",
            "class": "file",
            "patterns": [ "*.bed" ],
            "optional": true
        },
        {
            "group": "advanced",
            "name": "extended",
            "label": "Write the extended pdf report?",
            "help": "Generate an extended report, with threshold and score diagnostics.",
            "class": "boolean",
            "default": false
        }
    ],
    "outputSpec": [
        {
            "name": "report",
            "label": "Output PDF",
            "help": "The pdf validation report",
            "class": "file",
            "patterns": [ "*.pdf" ]
        }
    ],
    "runSpec": {
        "execDepends": [
            { "name": "openjdk-7-jre-headless" },
            { "name": "texinfo" },
            { "name": "texlive" },
            { "name": "latex-xcolor" },
            { "name": "texlive-latex-extra" },
            { "name": "git" }
        ],
        "systemRequirements": {
            "main": {
                "instanceType": "mem1_ssd1_x4"
            }
        },
        "file": "src/code.sh",
        "interpreter": "bash"
    },
    "access": {
        "network": ["*"]
    }
}
